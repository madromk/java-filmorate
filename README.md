# java-filmorate
![Схема базы данных приложения](filmorate_scheme_database.png)

Описание схемы для базы данных приложения Filmorate

1. Таблица film


   В данной таблице представлена вся информация о фильме. В качестве первичного ключа выступает колонка с название 
   film_id. Также film_id связан с таблицами film_category и amountLikes по принципу "один ко многим".
   Колонки name, description, releaseDate, duration - обычные колонки со своими типами данных. Новая колонка rating 
   указана сразу в таблице film без своего индекса и ссылки на другую таблицу, поскольку такой подход не нарушает 
   принцип третье нормальной формы баз данных (в таблице отсутствует транзитивная зависимость).
4. Таблицы film_category и category


   Таблица film_category хранить уникальную связку первичных ключей из колонок film_id и category_id. Это сделанно для 
   того, чтобы нельзя было добавить к фильму два раза одну и ту же категорию.
   Таблциа category
   В данной таблице представлено два столбца. category_id - первичный ключ. name - название категории. Таблицы film и 
   category связаны по принципу многие ко многим (у одного фильма может быть несколько категорий, у одной категории 
   может быть несколько фильмов)


3) Таблица AmountLikes


Таблица хранить уникальную связку первичных ключей из колонок film_id и user_id. Это сделанно для того, чтобы  у фильма 
были уникальные лайки (один пользователь = один лайк к фильму).


4) Таблица user


У данной таблицы user_id - первичный ключ. Остальные поля обычные, со своими типами данных.


5) Таблица friends


Таблица содержит связку первичных ключей (user1, user2). Это сделано для того, чтобы id пользователей не дублировались 
в друзьях
Статус Дружба. Данный статус будет вынесен в класс UserService и будет определяться следующим образом.
Статус будет "подтвержденный", если в таблице friends у пользователя с id1 будет в друзьях пользователь с id2 
и наоборот:

user_id1 | user_id2

...................

...................

user_id2 | user_id1

Если такая связка в таблице будет отсутствовать, то статус у пользователей user_id1 и user_id2 будет "неподтвержденный".
